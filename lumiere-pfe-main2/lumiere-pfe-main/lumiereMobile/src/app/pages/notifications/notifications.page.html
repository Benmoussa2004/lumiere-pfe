<ion-header class="ion-no-border">
  <ion-toolbar class="premium-toolbar">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home" icon="arrow-back-outline"></ion-back-button>
    </ion-buttons>
    <ion-title>Notifications</ion-title>
    <ion-buttons slot="end">
      <!-- Hidden button to balance header -->
      <ion-button style="visibility: hidden;">
        <ion-icon name="refresh"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="premium-content">
  <div class="glass-background">
    <div class="bubble"></div>
    <div class="bubble"></div>
  </div>

  <div class="notifications-container">
    <h1 class="section-title">Centre d'alertes</h1>

    <div class="notification-list-premium" *ngIf="notifications.length > 0">
      <div class="notification-card-premium shadow-sm" *ngFor="let item of notifications" [class.unread]="!item.read">
        <div class="icon-box" [ngClass]="item.type?.toLowerCase() || 'primary'">
          <ion-icon [name]="getIcon(item.type)"></ion-icon>
        </div>
        <div class="notif-content" (click)="markAsRead(item.id)">
          <div class="notif-header">
            <h4>{{ item.title }}</h4>
            <span class="time">{{ formatDate(item.date) }}</span>
          </div>
          <p>{{ item.message }}</p>
        </div>
        <div class="action-box" (click)="deleteNotification(item.id); $event.stopPropagation()">
          <ion-icon name="close-outline"></ion-icon>
        </div>
      </div>
    </div>

    <div class="empty-state" *ngIf="notifications.length === 0">
      <ion-icon name="notifications-off-outline"></ion-icon>
      <h2>Silence radio</h2>
      <p>Vous n'avez aucune notification pour le moment.</p>
    </div>

    <div class="spacer"></div>
  </div>

  <div class="spacer"></div>
</ion-content>